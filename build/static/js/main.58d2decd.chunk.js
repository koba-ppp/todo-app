(this.webpackJsonpreact_firebase_typescript_todo=this.webpackJsonpreact_firebase_typescript_todo||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n(0),r=n.n(c),s=n(12),o=n.n(s),i=(n(90),n(30)),p=n.n(i),l=n(44),u=n(27),j=n(137),b=n(141),d=n(138),h=n(59),f=n.n(h),_=n(40);n(106),n(93);_.a.initializeApp({apiKey:"AIzaSyBqeZkM0_RbtJL3x2nZAmzqTzAltlMq5bc",authDomain:"udemy-todo-8561e.firebaseapp.com",databaseURL:"https://udemy-todo-8561e.firebaseio.com",projectId:"udemy-todo-8561e",storageBucket:"udemy-todo-8561e.appspot.com",messagingSenderId:"854214145526",appId:"1:854214145526:web:bf8ffeec5f8c221b8643d7"});var O=_.a.firestore(),x=_.a.auth(),g=(_.a,n(75)),m=n.n(g),k=n(63),v=n.n(k),A=n(132),y=n(136),w=n(73),C=n.n(w),S=n(72),I=n.n(S),L=function(e){var t=Object(c.useState)(e.title),n=Object(u.a)(t,2),r=n[0],s=n[1];return Object(a.jsxs)(A.a,{children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)(y.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(b.a,{InputLabelProps:{shrink:!0},label:"Edit task",value:r,onChange:function(e){return s(e.target.value)}})}),Object(a.jsx)("button",{onClick:function(){O.collection("tasks").doc(e.id).set({title:r},{merge:!0})},className:v.a.taskitem_icon,children:Object(a.jsx)(I.a,{})}),Object(a.jsx)("button",{onClick:function(){O.collection("tasks").doc(e.id).delete()},className:v.a.taskitem_icon,children:Object(a.jsx)(C.a,{})})]})},N=n(142),P=n(74),E=n.n(P),F=Object(N.a)({field:{marginTop:30,marginBottom:20},list:{margin:"auto",width:"40%"}}),z=function(e){var t=Object(c.useState)([{id:"",title:""}]),n=Object(u.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(""),i=Object(u.a)(o,2),h=i[0],_=i[1],g=F();Object(c.useEffect)((function(){var t=x.onAuthStateChanged((function(t){!t&&e.history.push("login")}));return function(){return t()}}),[e.history]),Object(c.useEffect)((function(){var e=O.collection("tasks").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,title:e.data().title}})))}));return function(){return e()}}),[]);return Object(a.jsxs)("div",{className:f.a.app_root,children:[Object(a.jsx)("h1",{children:"Todo App by React/Firebase"}),Object(a.jsx)("button",{className:f.a.app__logout,onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.signOut();case 3:e.history.puth("login"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),children:Object(a.jsx)(E.a,{})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(b.a,{InputLabelProps:{shrink:!0},className:g.field,label:"New task ?",value:h,onChange:function(e){return _(e.target.value)}})}),Object(a.jsx)("button",{disabled:!h,onClick:function(e){O.collection("tasks").add({title:h}),_("")},className:f.a.app_icon,children:Object(a.jsx)(m.a,{})}),Object(a.jsx)(d.a,{className:g.field,children:r.map((function(e){return Object(a.jsx)(L,{id:e.id,title:e.title},e.id)}))})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},T=n(77),R=n(14),W=n(76),q=n.n(W),D=n(139),J=n(140),M=function(e){var t=Object(c.useState)(!0),n=Object(u.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(""),i=Object(u.a)(o,2),d=i[0],h=i[1],f=Object(c.useState)(""),_=Object(u.a)(f,2),O=_[0],g=_[1];return Object(c.useEffect)((function(){var t=x.onAuthStateChanged((function(n){return n&&e.history.push("/"),function(){return t()}}))}),[e.history]),Object(a.jsxs)("div",{className:q.a.login__root,children:[Object(a.jsx)("h1",{children:r?"Login":"Register"}),Object(a.jsx)("br",{}),Object(a.jsx)(j.a,{children:Object(a.jsx)(b.a,{InputLabelProps:{shrink:!0},name:"email",label:"E-mail",value:d,onChange:function(e){return h(e.target.value)}})}),Object(a.jsx)("br",{}),Object(a.jsx)(j.a,{children:Object(a.jsx)(b.a,{InputLabelProps:{shrink:!0},name:"password",label:"Password",value:O,onChange:function(e){return g(e.target.value)}})}),Object(a.jsx)("br",{}),Object(a.jsx)(D.a,{variant:"contained",color:"primary",size:"small",onClick:r?Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.signInWithEmailAndPassword(d,O);case 3:e.history.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))):Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.createUserWithEmailAndPassword(d,O);case 3:e.history.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),children:r?"login":"register"}),Object(a.jsx)("br",{}),Object(a.jsx)(J.a,{align:"center",children:Object(a.jsx)("span",{onClick:function(){return s(!r)},children:r?"Create new account ?":"Back to login"})})]})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(T.a,{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{exact:!0,path:"/",component:z}),Object(a.jsx)(R.a,{exact:!0,path:"/login",component:M})]})})}),document.getElementById("root")),B()},59:function(e,t,n){e.exports={App:"App_App__16ZpL","App-logo":"App_App-logo__25k4o","App-logo-spin":"App_App-logo-spin__1e7sv","App-header":"App_App-header__xLkWl","App-link":"App_App-link__3FsH9",app_root:"App_app_root__2cDwv",app_icon:"App_app_icon__3ganC",app_logout:"App_app_logout__2_WzY"}},63:function(e,t,n){e.exports={taskitem_icon:"TaskItem_taskitem_icon__3U4-H"}},76:function(e,t,n){e.exports={login__root:"login_login__root__2s-uK"}},90:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.58d2decd.chunk.js.map