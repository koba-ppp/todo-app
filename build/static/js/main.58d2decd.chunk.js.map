{"version":3,"sources":["firebase.ts","TaskItem.tsx","App.tsx","reportWebVitals.ts","Login.tsx","index.tsx","App.module.css","TaskItem.module.css","login.module.css"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","TaskItem","props","useState","title","setTitle","ListItem","Grid","container","justify","TextField","InputLabelProps","shrink","label","value","onChange","e","target","onClick","collection","doc","id","set","merge","className","styles","taskitem_icon","delete","useStyles","makeStyles","field","marginTop","marginBottom","list","margin","width","App","tasks","setTasks","input","setInput","classes","useEffect","unSub","onAuthStateChanged","user","history","push","onSnapshot","snapshot","docs","map","data","app_root","app__logout","a","signOut","puth","alert","message","FormControl","disabled","add","app_icon","List","task","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","login__root","name","Button","variant","color","size","signInWithEmailAndPassword","createUserWithEmailAndPassword","Typography","align","ReactDOM","render","StrictMode","exact","path","component","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.58d2decd.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n};\n\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\nexport const auth = firebase.auth();\n\nexport default firebase;","import React,{useState} from 'react';\nimport styles from './TaskItem.module.css';\nimport {ListItem, TextField, Grid} from \"@material-ui/core\";\nimport DeleteOutLinedIcon from \"@material-ui/icons/DeleteOutlineOutlined\";\nimport EditOutLinedIcon from \"@material-ui/icons/EditOutlined\";\nimport {db} from \"./firebase\";\n\ninterface PROPS {\n    id: string;\n    title: string;\n}\n\nconst TaskItem: React.FC<PROPS> = (props) => {\n\n    const [title, setTitle] = useState(props.title);\n\n    const editTask = () => {\n        db.collection(\"tasks\").doc(props.id).set({title: title},{merge: true});\n    };\n\n    const deleteTask = () => {\n        db.collection(\"tasks\").doc(props.id).delete();\n    }\n\n\n    return (\n        <ListItem>\n            <h2>{props.title}</h2>\n            <Grid container justify=\"flex-end\">\n                <TextField \n                InputLabelProps={{\n                    shrink: true,\n                }}\n                label=\"Edit task\"\n                value={title}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => setTitle(e.target.value)}\n                />\n            </Grid>\n            <button onClick={editTask} className={styles.taskitem_icon}>\n                <EditOutLinedIcon />\n            </button>\n            <button onClick={deleteTask} className={styles.taskitem_icon}>\n                <DeleteOutLinedIcon />\n            </button>\n        </ListItem>\n    )\n}\n\nexport default TaskItem;\n","import { FormControl, List, TextField } from '@material-ui/core';\nimport React,{ useState, useEffect } from 'react';\nimport styles from './App.module.css';\nimport {db} from \"./firebase\"; \nimport AddToPhotosIcon from \"@material-ui/icons/AddToPhotos\";\nimport TaskItem from './TaskItem';\nimport {makeStyles} from \"@material-ui/styles\";\nimport {auth} from \"./firebase\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\n\nconst useStyles = makeStyles({\n  field: {\n    marginTop: 30,\n    marginBottom: 20,\n  },\n  list: {\n    margin: \"auto\",\n    width: \"40%\",\n  },\n});\n\nconst App: React.FC = (props:any) => {\n\n  const [tasks, setTasks] = useState([{id:\"\",title:\"\"}]); //複数のオブジェクトを内包した配列\n  const [input, setInput] = useState(\"\");\n  const classes = useStyles();\n\n  useEffect(() => {\n    const unSub = auth.onAuthStateChanged((user) => { //onAuthStateChangedで認証関係に変化があった時にユーザーの情報をとってくる\n      !user && props.history.push(\"login\")\n    })\n    return () => unSub(); //useEffectではマウント時に実行した処理をアンマウント時に解除する処理が必要となる\n  }, [props.history]);\n\n  useEffect(() => {\n    const unSub = db.collection(\"tasks\").onSnapshot((snapshot) => {\n      setTasks(\n        snapshot.docs.map((doc) => ({id: doc.id, title: doc.data().title}))\n      );\n    });  //データベースに何らかの変化があったときにsnapshotが起動して内容を取得してくれる\n    return ()=> unSub();\n  },[]);\n\n  const newTask = (e: React.DOMAttributes<HTMLButtonElement>) => {\n    db.collection(\"tasks\").add({title: input});\n    setInput(\"\");\n  }\n\n  return (\n    <div className={styles.app_root}>\n      <h1>Todo App by React/Firebase</h1>\n      <button className={styles.app__logout}\n      onClick={\n        async () => {\n          try {await auth.signOut();\n          props.history.puth(\"login\");\n        } catch(error){\n          alert(error.message);\n        }\n        }}><ExitToAppIcon/></button>\n      <FormControl>\n        <TextField \n        InputLabelProps={{\n          shrink: true,\n        }}\n        className={classes.field}\n        label=\"New task ?\"\n        value={input}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => \n          setInput(e.target.value)\n        }\n        />\n      </FormControl>\n      <button disabled={!input} onClick={newTask} className={styles.app_icon}>\n        <AddToPhotosIcon />\n      </button>\n      <List className={classes.field}>\n        {tasks.map((task) => (\n          <TaskItem key={task.id} id={task.id} title={task.title} /> \n        ))}\n      </List>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React,{useState, useEffect} from 'react';\nimport styles from \"./login.module.css\";\nimport {Button, FormControl, TextField, Typography} from \"@material-ui/core\";\nimport {auth} from \"./firebase\";\n\nconst Login:React.FC = (props: any) => {\n    //routerのhistoryという属性にアクセスすることができる。ページの履歴を記録してる。\n\n    const [isLogin, setIsLogin] = useState(true); //ログインしている時はtrue,してない時はfalse\n    const [email, setEmail] = useState(\"\"); //emailを入力してもらうときのステイト\n    const [password, setPassword] = useState(\"\");\n\n\n    useEffect(()=> {\n        const unSub = auth.onAuthStateChanged((user) => {\n            if(user){\n                props.history.push(\"/\");\n            };\n            return () => unSub();\n        });    //ログイン関係に変化があった時にその都度呼び出されるメソッド\n    },[props.history])\n\n    return (\n        <div className={styles.login__root}>\n            <h1>{isLogin ? \"Login\" : \"Register\"}</h1>\n            <br/>\n            <FormControl>\n                <TextField \n                InputLabelProps={{\n                    shrink: true,\n                }}\n                name=\"email\"\n                label=\"E-mail\"\n                value={email}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEmail(e.target.value)}\n                />\n            </FormControl>\n            <br/>\n            <FormControl>\n                <TextField \n                InputLabelProps={{\n                    shrink: true,\n                }}\n                name=\"password\"\n                label=\"Password\"\n                value={password}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n                />\n            </FormControl>\n            <br/>\n            <Button \n                variant=\"contained\" \n                color=\"primary\" \n                size=\"small\"\n                onClick={\n                    isLogin \n                        ? async () => {\n                            try{\n                                await auth.signInWithEmailAndPassword(email, password);\n                                props.history.push(\"/\")\n                            }catch(error){\n                                alert(error.message)\n                            } \n                        }\n                        : async () => {\n                            try{\n                                await auth.createUserWithEmailAndPassword(email,password);\n                                props.history.push(\"/\")\n                            }catch(error){\n                                alert(error.message);\n                            }\n                        }\n                }\n            >\n                {isLogin ? \"login\" : \"register\"}\n            </Button>\n            <br/>\n            <Typography align=\"center\">\n                <span onClick={() => setIsLogin(!isLogin)}>\n                    {isLogin ? \"Create new account ?\" : \"Back to login\"}\n                </span>\n            </Typography>\n        </div>\n    )\n}\n\nexport default Login\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {Route, BrowserRouter} from \"react-router-dom\";\nimport Login from \"./Login\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <>\n        <Route exact path=\"/\" component={App} />\n        <Route exact path=\"/login\" component={Login} />\n      </>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"App-logo\":\"App_App-logo__25k4o\",\"App-logo-spin\":\"App_App-logo-spin__1e7sv\",\"App-header\":\"App_App-header__xLkWl\",\"App-link\":\"App_App-link__3FsH9\",\"app_root\":\"App_app_root__2cDwv\",\"app_icon\":\"App_app_icon__3ganC\",\"app_logout\":\"App_app_logout__2_WzY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskitem_icon\":\"TaskItem_taskitem_icon__3U4-H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__root\":\"login_login__root__2s-uK\"};"],"sourceRoot":""}